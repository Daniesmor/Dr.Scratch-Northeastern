{% load i18n %}
<!doctype html>

    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta name="description" content="Analyze your Scratch projects to assess your Computational Thinking skills">
        <meta name="keywords" content="Stamp, Startup, Multipurpose, Bootstrap, Landing page, Template, Registration, Landing">
        <meta name="author" content="Programamos URJC Libresoft FECyT">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

        <link rel="stylesheet" href="../../static/app/content/scratchblocks2.css">
        <!-- <script src="../../static/app/scripts/bootstrap-modal.js"></script> -->
        <script src="../../static/app/scripts/translations.js"></script>
        <!-- <script src="../../static/app/scripts/bootstrap.js"></script> -->
        <link rel="stylesheet" href="../../static/app/content/bootstrap-tour.css">
        <script src="../../static/app/scripts/bootstrap.min.js"></script>
        <script src="../../static/app/scripts/bootstrap-tour.js"></script>
        <script src="../../static/app/scripts/googleAnalytics.js"></script>
        <script src="../../static/app/scripts/scratchblocks-v3.4-min.js"></script>
        <!-- str typing simulation -->
        <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

        <!-- SITE TITLE -->
        <title>Dr. Scratch</title>


        <link rel="stylesheet" href="/static/app/content/style.css">
        <!-- =========================
            FAV AND TOUCH ICONS AND FONT
        ============================== -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

        <link rel="icon" href="/static/app/images/favicon.ico">
        <link rel="stylesheet" href="static/app/icons/icons.css">
        <link type="text/css" rel="stylesheet" href="/static/app/content/css_002.css">
        <link type="text/css" rel="stylesheet" href="/static/app/content/css.css">
        <!-- =========================
            STYLESHEETS
        ============================== -->
        <!-- BOOTSTRAP AND ANIMATION -->
        <link rel="stylesheet" href="/static/app/content/bootstrap.min.css">
        <link rel="stylesheet" href="/static/app/content/animate.css">

        <!-- CAROUSEL AND LIGHTBOX -->
        <link rel="stylesheet" href="../../static/app/content/owl_002.css">
        <link rel="stylesheet" href="../../static/app/content/owl.css">
        <link rel="stylesheet" href="../../static/app/content/nivo-lightbox.css">
        <link rel="stylesheet" href="../../static/app/content/default.css">

        <!-- CUSTOM STYLESHEETS -->
        <link rel="stylesheet" href="../../static/app/content/styles.css">
        {% if mastery.competence == "Basic" %}
            <link rel="stylesheet" href="/static/app/content/basic.css">
        {% elif mastery.competence == "Developing" %}
            <link rel="stylesheet" href="/static/app/content/developing.css">
        {% elif mastery.competence == "Master" %}
            <link rel="stylesheet" href="/static/app/content/master.css">
        {% elif mastery.competence == "Advanced" %}
            <link rel="stylesheet" href="/static/app/content/advanced.css">
        {% elif mastery.competence == "Finesse" %}
            <link rel="stylesheet" href="/static/app/content/finesse.css">
        {% endif %}

        <!-- RESPONSIVE FIXES -->
        <link rel="stylesheet" href="../../static/app/content/responsive.css">

        <!-- DEFAULT COLOR/ CURRENTLY USING -->
        <link rel="stylesheet" href="../../static/app/content/red.css">


        <script>
            $(document).ready(function() {
                var baseScore = {{ Original.mastery_vanilla.points.0 }};
                var projectScore = {{ New.mastery_vanilla.points.0 }};
                
                if (baseScore !== projectScore) {
                    var modalTitle = '';
                    var modalMessage = '';
                    var imageUrl = '';
                    var diffPoints = Math.abs(baseScore - projectScore);
            
                    if (baseScore < projectScore) {
                        modalTitle = '{% trans "Congrats!!" %}';
                        modalMessage = '{% trans "You have improved this project by " %}' + '<span class="text-success"><strong>' + diffPoints + '</strong></span>' + '{% trans " points" %}';
                        imageUrl = '/static/app/images/cat.png';
                    } else {
                        modalTitle = '{% trans "Oops..." %}';
                        modalMessage = '{% trans "Your project score has dropped by " %}' + '<span class="colored-text"><strong>' + diffPoints + '</strong></span>' + '{% trans " points" %}';
                        imageUrl = '/static/app/images/monkey.png'
                    }
        
                    var imgElement = $('<img>', {
                        src: imageUrl,
                        class: 'img-responsive col-md-4',
                        style: 'margin-left: 30px;'
                    });
                    
                    $('#modal-feedback-img').append(imgElement);
                    $('#scoreChangeModalLabel').text(modalTitle);
                    $('#modal-feedback-content').html(modalMessage);
                    $('#scoreChangeModal').modal('show');
                }
            });
        </script>
        
        <script>
            $(document).ready(function() {
                // Delegación de eventos para los elementos dinámicos
                $(document).on('change', '#original-score, #original-total-blocks, #original-total-sprites, #original-duplicate, #original-dead, #original-sprite, #original-backdrop, #new-score, #new-total-blocks, #new-total-sprites, #new-duplicate, #new-dead, #new-sprite, #new-backdrop', function() {
                    
                    // Obtenemos los valores de bloques y sprites de "BEFORE"
                    var scoreBefore = parseInt($("#original-score").text());
                    var blocksBefore = parseInt($("#original-total-blocks").text());
                    var spritesBefore = parseInt($("#original-total-sprites").text());
                    var duplicateBefore = parseInt($("#original-duplicate").text());
                    var deadBefore = parseInt($("#original-dead").text());
                    var spriteBefore = parseInt($("#original-sprite").text());
                    var backdropBefore = parseInt($("#original-backdrop").text());
                    
                    // Obtenemos los valores de bloques y sprites de "AFTER"
                    var scoreAfter = parseInt($("#new-score").text());
                    var blocksAfter = parseInt($("#new-total-blocks").text());
                    var spritesAfter = parseInt($("#new-total-sprites").text());
                    var duplicateAfter = parseInt($("#new-duplicate").text());
                    var deadAfter = parseInt($("#new-dead").text());
                    var spriteAfter = parseInt($("#new-sprite").text());
                    var backdropAfter = parseInt($("#new-backdrop").text());
                    
                    // Función para actualizar la clase del texto
                    function updateTextClass(element, valueBefore, valueAfter) {
                        if (valueAfter < valueBefore) {
                            element.removeClass('dark-text colored-text').addClass('text-success');
                            element.append('<i class="bi bi-check-circle-fill"></i>');
                        } else if (valueAfter > valueBefore) {
                            element.removeClass('dark-text text-success').addClass('colored-text');
                            element.append('<i class="bi bi-exclamation-triangle-fill"></i>');
                        } else {
                            element.removeClass('text-success colored-text').addClass('dark-text');
                        }
                    }
        
                    // Función para actualizar la clase del texto
                    function updateTextScore(element, valueBefore, valueAfter) {
                        if (valueAfter > valueBefore) {
                            element.removeClass('dark-text colored-text').addClass('text-success');
                        } else if (valueAfter < valueBefore) {
                            element.removeClass('dark-text text-success').addClass('colored-text');
                        } else {
                            element.removeClass('text-success colored-text').addClass('dark-text');
                        }
                    }
        
                    // Actualizamos las clases de los elementos
                    updateTextScore($("#new-score"), scoreBefore, scoreAfter);
                    updateTextClass($("#new-total-blocks"), blocksBefore, blocksAfter);
                    updateTextClass($("#new-total-sprites"), spritesBefore, spritesAfter);
                    updateTextClass($("#new-duplicate"), duplicateBefore, duplicateAfter);
                    updateTextClass($("#new-dead"), deadBefore, deadAfter);
                    updateTextClass($("#new-sprite"), spriteBefore, spriteAfter);
                    updateTextClass($("#new-backdrop"), backdropBefore, backdropAfter);
                });
            });
        </script>
        
        
        <script>
            $(document).ready(function () {
                // Usar delegación de eventos para que funcione con elementos dinámicos
                $(document).on('click', '#show-more-button', function () {
                    var $hiddenContent = $('#hidden-content');
                    if ($hiddenContent.is(':visible')) {
                        $hiddenContent.slideUp();
                        $(this).text("{% trans 'Show more' %}");
                    } else {
                        $hiddenContent.slideDown();
                        $(this).text("{% trans 'Show less' %}");
                    }
                });
            });
        </script>
        
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Función para actualizar el filename
                function updateFilename(elementId) {
                    // Selecciona el elemento que contiene el filename
                    var filenameElement = document.getElementById(elementId);
        
                    // Verifica si el elemento existe en el DOM
                    if (filenameElement) {
                        // Obtiene el contenido del elemento
                        var filename = filenameElement.innerText;
        
                        // Define el patrón para la URL del proyecto
                        var pattern = /^https:\/\/scratch\.mit\.edu\/projects\/(\d+)\/$/;
        
                        // Verifica si el filename coincide con el patrón
                        var match = filename.match(pattern);
        
                        if (match) {
                            // Extrae el ID del proyecto
                            var projectId = match[1];
        
                            // Modifica el contenido del elemento
                            filenameElement.innerText = 'Project: ' + projectId;
                        }
                    }
                }
        
                // Actualiza el filename para New.filename
                updateFilename('project-new-filename');
        
                // Actualiza el filename para Original.filename
                updateFilename('project-original-filename');
            });
        </script>
        
        <script>
            $(document).ready(function () {
                function updatePopoverContent() {
                    $('.dropdown').each(function () {
                        var $this = $(this);
                        var type = $this.data('type');
                        var compareType = $this.data('compare-type');
                        var popoverContent = '';
                        if (type === "Original") {
                            popoverContent = '{% trans "This is the original ' + compareType + '." %}';
                        } else if (compareType !=  undefined) {
                            var originalNumber = parseInt($this.data('original-number'));
                            var newNumber = parseInt($this.data('new-number'));
                            if (newNumber === 0) {
                                popoverContent = '{% trans "Congratulations!! You have erase all your ' + compareType + ' of your project" %}';
                            } else if (newNumber < originalNumber) {
                                popoverContent = '{% trans "Congrats!! You have decrease the number of ' + compareType + ' in your project, keep it up !!" %}';
                            } else if (newNumber > originalNumber) {
                                popoverContent = '{% trans "Oops... You have increase the number of ' + compareType + ' in your project, try to erase them !!" %}';
                            } else {
                                popoverContent = '{% trans "You have the same the number of ' + compareType + ' in your project, try to erase them !!" %}';
                            }
                        }
                        $this.attr('data-content', popoverContent);
                    });
                }
        
                updatePopoverContent();
        
                $('.dropdown').popover({
                    trigger: 'manual',
                    html: true,
                    animation: false
                }).on('mouseenter', function () {
                    $(this).popover('show');
                }).on('mouseleave', function () {
                    $(this).popover('hide');
                });
            });
        </script>
        
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                // Function to insert the commented tbody content into the more-content table
                function insertMoreContent() {
                    var data = {};
                    var dataBefore = {};
                    var htmlkey = '';
                    {% for key,value in New.mastery_vanilla.items %}
                        data['{{ key }}'] = '{{ value }}',
                    {% endfor %}
                    {% for key,value in Original.mastery_vanilla.items %}
                        dataBefore['{{ key }}'] = '{{ value }}',
                    {% endfor %}
                    console.log(data);
        
                    for (var key in data) {
                        if (key != 'competence' && key != 'points'){
                            var valueAfter = parseInt(data[key][2]);
                            var valueBefore = parseInt(dataBefore[key][2]);
                            if (valueAfter == 0){
                                if (valueAfter < valueBefore){
                                    var progressBarHTML = `
                                    <div class="progress">
                                        <div class="progress-bar-new progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="3" style="width: 0%">
                                            <span style="color: red; font-size: 12px;"><strong>0/3</strong></span>
                                        </div>
                                    </div>`;
                                } else {
                                    var progressBarHTML = `
                                    <div class="progress">
                                        <div class="progress-bar-new progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="3" style="width: 0%">
                                            <span style="color: grey;  font-size: 12px;"><strong>0/3</strong></span>
                                        </div>
                                    </div>`;
                                }
        
                            } else {
                                if (valueAfter > valueBefore) {
                                    var progressBarHTML =  `
                                    <div class="progress">
                                        <div class="progress-bar-new progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="${valueAfter}" aria-valuemin="0" aria-valuemax="3" style="width: ${valueAfter / 3 * 100}%;">
                                            <span style="font-size: 12px;"><strong>${valueAfter} / 3</strong></span>
                                        </div>
                                    </div>
                                    `;
                                } else if (valueAfter < valueBefore) {
                                    var progressBarHTML =  `
                                    <div class="progress">
                                        <div class="progress-bar-new progress-bar-danger progress-bar-striped" role="progressbar" aria-valuenow="${valueAfter}" aria-valuemin="0" aria-valuemax="3" style="width: ${valueAfter / 3 * 100}%;">
                                            <span style="font-size: 12px;"><strong>${valueAfter} / 3</strong></span>
                                        </div>
                                    </div>
                                    `;
                                } else {
                                    var progressBarHTML =  `
                                    <div class="progress">
                                        <div class="progress-bar-new progress-bar-info progress-bar-striped" role="progressbar" aria-valuenow="${valueAfter}" aria-valuemin="0" aria-valuemax="3" style="width: ${valueAfter / 3 * 100}%;">
                                            <span style="font-size: 12px;"><strong>${valueAfter} / 3</strong></span>
                                        </div>
                                    </div>
                                    `;
                                }
                            }
                            document.getElementById(key).innerHTML += (progressBarHTML);
                        }
                    }
                };
        
                // Call the function to insert content
                insertMoreContent();
            });
        </script>
        
        <script>
            $(document).ready(function () {
                // Delegación de eventos para ejecutar cuando los gráficos se añaden al DOM
                $(document).on('load', function () {
                    // Pasar los datos de los bloques desde Django al contexto de JavaScript
                    var originalBlocks = {{ Original.block_sprite_usage.result.categories|safe }};
                    var newBlocks = {{ New.block_sprite_usage.result.categories|safe }};
            
                    // Preparar los datos para Chart.js
                    if ("other" in originalBlocks) {
                        var labelsOriginal= ['Motion', 'Looks', 'Sounds', 'Events', 'Control', 'Sensing', 'Operators', 'Variables', 'My Blocks', 'Others'];
                    } else {
                        var labelsOriginal= ['Motion', 'Looks', 'Sounds', 'Events', 'Control', 'Sensing', 'Operators', 'Variables', 'My Blocks'];
                    }
            
                    if ("other" in newBlocks) {
                        var labelsNew= ['Motion', 'Looks', 'Sounds', 'Events', 'Control', 'Sensing', 'Operators', 'Variables', 'My Blocks', 'Others'];
                    } else {
                        var labelsNew= ['Motion', 'Looks', 'Sounds', 'Events', 'Control', 'Sensing', 'Operators', 'Variables', 'My Blocks'];
                    }
            
                    var originalData = Object.values(originalBlocks);
                    var newData = Object.values(newBlocks);
                    var colors = [
                        '#4C97FF', // Motion - Blue
                        '#9966FF', // Looks - Purple
                        '#CF63CF', // Sounds - Magenta
                        '#FFBF00', // Events - Yellow
                        '#FFAB19', // Control - Orange
                        '#FF6680', // Sensing - Pink
                        '#0FBD8C', // Operators - Green
                        '#FF8C1A',  // Variables - Dark Orange
                        '#E66464', // My Blocks - Red
                        '#808080'  // Others - Grey
                    ];
            
                    // Configuración del gráfico circular para el proyecto original
                    var ctxOriginal = document.getElementById('originalProjectChart').getContext('2d');
                    var originalProjectChart = new Chart(ctxOriginal, {
                        type: 'doughnut',
                        data: {
                            labels: labelsOriginal,
                            datasets: [{
                                data: originalData,
                                backgroundColor: colors
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                tooltip: {
                                    callbacks: {
                                        label: function(tooltipItem) {
                                            return tooltipItem.label + ': ' + tooltipItem.raw + '%';
                                        }
                                    }
                                },
                                legend: {
                                    display: true,
                                    position: 'bottom',
                                }
                            }
                        }
                    });
            
                    // Configuración del gráfico circular para el nuevo proyecto
                    var ctxNew = document.getElementById('newProjectChart').getContext('2d');
                    var newProjectChart = new Chart(ctxNew, {
                        type: 'doughnut',
                        data: {
                            labels: labelsNew,
                            datasets: [{
                                data: newData,
                                backgroundColor: colors
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                tooltip: {
                                    callbacks: {
                                        label: function(tooltipItem) {
                                            return tooltipItem.label + ': ' + tooltipItem.raw + '%';
                                        }
                                    }
                                },
                                legend: {
                                    display: true,
                                    position: 'bottom',
                                }
                            }
                        }
                    });
                });
            });
        </script>
        
        

        <script>
                window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));
        </script>
        <script>
            $(document).ready(function () {
                $('.dropdown').popover();
            });
        </script>
        <script>
            $(document).ready(function() {
                scratchblocks.renderMatching('pre.blocks', {
                style:     'scratch3',   // Optional, defaults to 'scratch2'.
                languages: ['en'], // Optional, defaults to ['en'].
                scale: 0.5,                // Optional, defaults to 1
                });
            })
        </script>
        
        <script>
            $(document).ready(function(){
                var isMouseOverPopover = false;
            
                $('.dropdown').popover({
                    trigger: 'manual',
                    html: true,
                    animation: false
                }).on('mouseenter', function () {
                    var contentId = $(this).attr('id');
                    if (contentId === 'dead-code') {
                        var content = $(this).next('#dead-code-content').html();
                        $(this).attr('data-content', content);
                    } else if (contentId === 'duplicated-scripts') {
                        var content = $(this).next('#duplicated-scripts-content').html();
                        $(this).attr('data-content', content);
                    } else {
                        var _this = this;
                    }
                    $(this).popover('show');
                    $('.popover').on('mouseenter', function () {
                        isMouseOverPopover = true;
                    }).on('mouseleave', function () {
                        isMouseOverPopover = false;
                        $(_this).popover('hide');
                    });
                }).on('mouseleave', function () {
                    var _this = this;
                    setTimeout(function () {
                        if (!isMouseOverPopover) {
                            $(_this).popover('hide');
                        }
                    }, 100);
                });
            });
                
        </script>

        <script>
            function modalContentChange(contentId) {
                var content = document.getElementById(contentId).innerHTML;
                document.getElementById("modalContentChange").innerHTML = content;
                $('#exampleModal').modal('show');
            }
        </script>

        <script>
            $(document).ready(function() {
                $('.progress-bar').each(function() {
                    var progressBar = $(this);
                    var progressValue = parseFloat(progressBar.attr('aria-valuenow'));
                    var maxValue = parseFloat(progressBar.attr('aria-valuemax'));
                    var percentage = (progressValue / maxValue) * 100;
        
                    if (percentage <= 33) {
                        progressBar.removeClass('progress-bar-success progress-bar-warning');
                        progressBar.addClass('progress-bar-danger');
                    } else if (percentage > 33 && percentage <= 66) {
                        progressBar.removeClass('progress-bar-success progress-bar-danger');
                        progressBar.addClass('progress-bar-warning');
                    } else {
                        progressBar.removeClass('progress-bar-danger progress-bar-warning');
                        progressBar.addClass('progress-bar-success');
                    }
                });
            });
        </script>

        <script>
            $(document).ready(function(){
            $('[data-toggle="tooltip"]').tooltip();
            });
        </script>

        <script>
            function submitLanguageForm() {
                // Crear un objeto FormData para el primer formulario
                var formData = new FormData(document.getElementById('language-form'));
            
                // Realizar el POST al endpoint /i18n/setlang/
                fetch("/i18n/setlang/", {
                    method: 'POST',
                    body: formData,
                    credentials: 'same-origin',
                    headers: {
                        'X-CSRFToken': '{{ csrf_token }}'
                    }
                }).then(response => {
                    if (response.ok) {
                        // Si el POST es exitoso, realizar el POST a /show_dashboard/
                        document.getElementById('dashboard-form').submit();
                    } else {
                        console.error('Error al cambiar el idioma');
                    }
                }).catch(error => {
                    console.error('Error de red:', error);
                });
            }
            </script>
        
        <style>
            .btn-primary {
                background-color: #1792A4;
            }
            .btn-primary:hover {
                background-color: #4CA8A1;
            }
            .btn-primary:focus {
                background-color: #4CA8A1;
            }
            .tab {
                overflow: hidden;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            /* Style the buttons that are used to open the tab content */
            .tab button {
            background-color: #fc3b3b;
            color: white;
            font-family: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 6px; 
            background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.3), rgba(0, 0, 0, 0.1)); 
            margin-right: 20px;
            }
            /* Change background color of buttons on hover */
            .tab button:hover {
            background-color: #d63031;
            }
            /* Create an active/current tablink class */
            .tab button.active {
            background-color: #FF8B8B;
            }
            /* Specific styles for the Recommender Assistant button */
            .tab button recommender-btn {
                background-color: #FF7A47; /* Degradado naranjado */
                color: #FFFFFF; /* Texto blanco */
            }

            .recommender-btn:hover {
                background: linear-gradient(90deg, #FFA074, #FF8A74); /* Naranja más claro al pasar el ratón */
            }

            .recommender-btn.active {
                background: linear-gradient(90deg, #FF8A47, #FF7647); /* Más claro cuando está activo */
            }
            .bad-smells-title {
                font-size: 3rem;
                font-weight: bold;
                color: #fc3b3b;
                text-align: center;
                padding: 30px 0;
                position: relative;
            }
            .bad-smells-title::before {
                content: "";
                position: absolute;
                left: 0;
                right: 0;
                bottom: -10px;
                height: 10px;
            }
            .bad-smells-title::after {
                content: "";
                position: absolute;
                left: 0;
                right: 0;
                bottom: -10px;
                height: 10px;
            }
            .island {
                margin-bottom: 20px;
            }
            .content {
                display: none;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                background-color: rgba(0, 0, 0, 0.8);
                color: white;
                z-index: 999;
                overflow-y: auto;
                padding: 20px;
                box-sizing: border-box;
            }
            .island img {
                max-width: 100%;
                height: auto;
                cursor: pointer;
            }
            #dashboard .row {
                position: relative;
            }
            .small-icon {
                font-size: 1rem;
                vertical-align: middle;
            }
            .popover {
                max-width: 700px; /* Establece el ancho máximo */
                /* Otros estilos personalizados */
            }
            .language-content {
                cursor: pointer;
            }


        </style>    

    </head>

    <body>
        <div id="wrap" style="width: 100%;">
            <!-- TOP BAR -->
            <div class="navbar navbar-inverse bs-docs-nav navbar-fixed-top sticky-navigation" role="navigation">
                <div class="container">
                        <div class="col-md-11">
                            <a href="/" style="padding-left: 8%;">
                                <img src="static/app/images/logo_main.png" alt="" width="220" height="70.1667">
                            </a>
                        </div>
                        <div class="col-md-1">
                            <ul class="nav navbar-nav navbar-right login-register small-text">
                                <li style="display: block;" class="login dropdown">
                                    <a aria-expanded="false" type="button" data-toggle="dropdown" class="dropdown-toggle language-content" data-hover="dropdown" style="padding-top: 50%;">
                                        <span class="icon-basic-world"></span>
                                    </a>
                                    <ul role="menu" class="dropdown-menu" style="padding: 20px;">
                                        <li style="padding-left: 20px;">
                                            <div>
                                                <form id="language-form" action="/i18n/setlang/" method="post">
                                                    {% csrf_token %}
                                                    <input name="next" type="hidden" value="{{ redirect_to }}" />
                                                    <select name="language" id="language-selector" onchange="submitLanguageForm()" class='btn-group btn-group-justified colored-text language-content'>
                                                        {% get_language_info_list for LANGUAGES as languages %}
                                                        {% for language in languages %}
                                                            {% if language.code == request.LANGUAGE_CODE %}
                                                                <option value="{{ language.code }}" selected>{{ language.name }} ({{ language.code }})</option>
                                                            {% else %}
                                                                <option value="{{ language.code }}">{{ language.name }} ({{ language.code }})</option>
                                                            {% endif %}
                                                        {% endfor %}
                                                    </select>
                                                </form>
                                                <form id="dashboard-form" action="/show_dashboard/" method="post" style="display: none;">
                                                    {% csrf_token %}
                                                    <input type="hidden" name="dashboard_mode" value="{{ dashboard_mode }}">
                                                    <input type="hidden" name="urlProject" value="{{ url }}">
                                                    <input type="hidden" name="_url" value="{{ url }}">
                                                </form>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div> 
                </div>
            </div>
            <!-- /END TOP BAR -->
            <div id="url-container" data-url="{% url 'get_analysis_d' %}"></div>
    
            <!-- MAIN CONTENT -->
            <div id="main" class="container" style="min-height: 100%; margin-top: 1%;">
                {% block content %} {% endblock %}
            </div>
    
            <!-- FOOTER -->
            <footer class="footer grey-bg text-center" style="min-width: 100%;">
                <p>{% trans "©2024 Dr.Scratch Made with " %} <span style="color: #e25555;">&#9829;</span> {% trans "by " %} <a href="/collaborators">{% trans "Dr.Scratch Team." %}</a></p>
                <!-- SOCIAL ICONS -->
                <ul class="social-icons list-inline">
                    <li class="list-inline-item">
                        <a href="https://github.com/Daniesmor/Dr.Scratch-Northeastern">
                            <i class="bi bi-github" style="color: black;"></i>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="https://twitter.com/DrScratchTool">
                            <i class="bi bi-twitter-x" style="color: black;"></i>
                        </a>
                    </li>
                </ul>
            </footer>
        </div>
    

    </body>
</html>